<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>phpDocumentor » \AmfphpCustomClassConverter</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">phpDocumentor</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Amfphp.html"><i class="icon-folder-open"></i> Amfphp</a></li>
<li><a href="../packages/Tests.html"><i class="icon-folder-open"></i> Tests</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">0</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">13</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method___construct" title="__construct :: constructor."><span class="description">constructor.</span><pre>__construct()</pre></a></li>
<li class="method public "><a href="#method_convertToTyped" title="convertToTyped :: if the object contains an explicit type marker, this method attempts to convert it to its typed counterpart
if the typed class is already available, then simply creates a new instance of it."><span class="description">if the object contains an explicit type marker, this method attempts to convert it to its typed counterpart
if the typed class is already available, then simply creates a new instance of it.</span><pre>convertToTyped()</pre></a></li>
<li class="method public "><a href="#method_filterDeserializedRequest" title="filterDeserializedRequest :: converts untyped objects to their typed counterparts."><span class="description">converts untyped objects to their typed counterparts.</span><pre>filterDeserializedRequest()</pre></a></li>
<li class="method public "><a href="#method_filterDeserializedResponse" title="filterDeserializedResponse :: looks at the outgoing packet and sets the explicit type field so that the serializer sends it properly"><span class="description">looks at the outgoing packet and sets the explicit type field so that the serializer sends it properly</span><pre>filterDeserializedResponse()</pre></a></li>
<li class="method public "><a href="#method_markExplicitType" title="markExplicitType :: sets the the explicit type marker on the object and its sub-objects."><span class="description">sets the the explicit type marker on the object and its sub-objects.</span><pre>markExplicitType()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul><li class="property public "><a href="#property_customClassFolderPaths" title="$customClassFolderPaths :: paths to folders containing custom classes(relative or absolute)
default is /Services/Vo/"><span class="description"></span><pre>$customClassFolderPaths</pre></a></li></ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\AmfphpCustomClassConverter"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/AmfphpCustomClassConverter.html">AmfphpCustomClassConverter</a>
</li>
</ul>
<div class="element class">
<p class="short_description">Converts data from incoming packets with explicit types to custom classes, and vice versa for the outgoing packets.</p>
<div class="details">
<div class="long_description"><p>This plugin can be deactivated if the project doesn't use custom classes.</p>

<p>The AMF deserializer reads a typed AMF object as a stdObj class, and sets the AMF type to a reserved "explicit type" field.
This plugin will look at deserialized data and try to convert any such objects to a real custom class.</p>

<p>It works in the opposite way on the way out: The AMF serializer needs a stdObj class with the explicit type marker set
to write a typed AMF object. This plugin will convert any typed PHP objects to a stdObj with the explicit type marker set.</p>

<p>The explicit type marker is defined in Amfphp_Core_Amf_Constants</p>

<p>If after deserialization the custom class is not found, the object is unmodified and the explicit type marker is left set.
If the explicit type marker is already set in an outgoing object, the value is left as is.</p>

<p>This works for nested objects.</p>

<p>If you don't need strong typing in PHP but would like the objects in your client to be strongly typed, you can:
For example a stdObj like this will be returned in AMF as MyVO</p>

<pre><code>$returnObj = new stdObj();
$explicitTypeField = Amfphp_Core_Amf_Constants::FIELD_EXPLICIT_TYPE;
$returnObj->$explicitTypeField = "MyVO";
</code></pre>

<p>If you are using Flash, remember that you need to register the class alias so that Flash converts the MyVO AMF object to a Flash MyVO object.
If you are using Flex you can do this with the RemoteClass metadata tag.</p></div>
<table class="table table-bordered">
<tr>
<th>see</th>
<td><a href="">\global\Amfphp_Core_Amf_Constants::FIELD_EXPLICIT_TYPE</a></td>
</tr>
<tr>
<th>link</th>
<td><a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/package.html#registerClassAlias%28%29">http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/package.html#registerClassAlias%28%29</a></td>
</tr>
<tr>
<th>link</th>
<td><a href="http://livedocs.adobe.com/flex/3/html/metadata_3.html#198729">http://livedocs.adobe.com/flex/3/html/metadata_3.html#198729</a></td>
</tr>
<tr>
<th>package</th>
<td><a href="../packages/Amfphp.Plugins.CustomClassConverter.html">Amfphp_Plugins_CustomClassConverter</a></td>
</tr>
<tr>
<th>author</th>
<td><a href="">Ariel Sommeria-Klein</a></td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method___construct"></a><div class="element clickable method public method___construct" data-toggle="collapse" data-target=".method___construct .collapse">
<h2>constructor.</h2>
<pre>__construct(array $config) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$config</h4>
<code>array</code><p>optional key/value pairs in an associative array. Used to override default configuration values.</p>
</div>
</div></div>
</div>
<a id="method_convertToTyped"></a><div class="element clickable method public method_convertToTyped" data-toggle="collapse" data-target=".method_convertToTyped .collapse">
<h2>if the object contains an explicit type marker, this method attempts to convert it to its typed counterpart
if the typed class is already available, then simply creates a new instance of it.</h2>
<pre>convertToTyped(mixed $obj) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If not,
attempts to load the file from the available service folders.
If then the class is still not available, the object is not converted
note: This is not a recursive function. Rather the recusrion is handled by Amfphp_Core_Amf_Util::applyFunctionToContainedObjects.
must be public so that Amfphp_Core_Amf_Util::applyFunctionToContainedObjects can call it</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$obj</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_filterDeserializedRequest"></a><div class="element clickable method public method_filterDeserializedRequest" data-toggle="collapse" data-target=".method_filterDeserializedRequest .collapse">
<h2>converts untyped objects to their typed counterparts.</h2>
<pre>filterDeserializedRequest(mixed $deserializedRequest) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Loads the class if necessary</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$deserializedRequest</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_filterDeserializedResponse"></a><div class="element clickable method public method_filterDeserializedResponse" data-toggle="collapse" data-target=".method_filterDeserializedResponse .collapse">
<h2>looks at the outgoing packet and sets the explicit type field so that the serializer sends it properly</h2>
<pre>filterDeserializedResponse(mixed $deserializedResponse) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$deserializedResponse</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_markExplicitType"></a><div class="element clickable method public method_markExplicitType" data-toggle="collapse" data-target=".method_markExplicitType .collapse">
<h2>sets the the explicit type marker on the object and its sub-objects.</h2>
<pre>markExplicitType(mixed $obj) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This is only done if it not already set, as in some cases
the service class might want to do this manually.
note: This is not a recursive function. Rather the recusrion is handled by Amfphp_Core_Amf_Util::applyFunctionToContainedObjects.
must be public so that Amfphp_Core_Amf_Util::applyFunctionToContainedObjects can call it</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$obj</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property_customClassFolderPaths"> </a><div class="element clickable property public property_customClassFolderPaths" data-toggle="collapse" data-target=".property_customClassFolderPaths .collapse">
<h2></h2>
<pre>$customClassFolderPaths : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a12</a> and<br>
            generated on 2013-02-04T14:01:09+01:00.<br></footer></div>
</div>
</body>
</html>
