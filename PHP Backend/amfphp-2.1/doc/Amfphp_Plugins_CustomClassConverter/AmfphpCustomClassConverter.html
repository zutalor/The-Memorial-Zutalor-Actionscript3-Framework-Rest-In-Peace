<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class AmfphpCustomClassConverter</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class AmfphpCustomClassConverter</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Converts data from incoming packets with explicit types to custom classes, and vice versa for the outgoing packets.</p>
<p class="description"><p>This plugin can be deactivated if the project doesn't use custom classes.</p><p>The AMF deserializer reads a typed AMF object as a stdObj class, and sets the AMF type to a reserved &quot;explicit type&quot; field.  This plugin will look at deserialized data and try to convert any such objects to a real custom class.</p><p>It works in the opposite way on the way out: The AMF serializer needs a stdObj class with the explicit type marker set  to write a typed AMF object. This plugin will convert any typed PHP objects to a stdObj with the explicit type marker set.</p><p>The explicit type marker is defined in Amfphp_Core_Amf_Constants</p><p>If after deserialization the custom class is not found, the object is unmodified and the explicit type marker is left set.  If the explicit type marker is already set in an outgoing object, the value is left as is.</p><p>This works for nested objects.</p><p>If you don't need strong typing in PHP but would like the objects in your client to be strongly typed, you can:  For example a stdObj like this will be returned in AMF as MyVO  <div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$returnObj&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id">stdObj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$explicitTypeField&nbsp;</span>=&nbsp;<span class="src-id"><a href="../Amfphp_Core_Amf/Amfphp_Core_Amf_Constants.html">Amfphp_Core_Amf_Constants</a></span><span class="src-sym">::</span><span class="src-id">FIELD_EXPLICIT_TYPE</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$returnObj</span><span class="src-sym">-&gt;</span><span class="src-var">$explicitTypeField&nbsp;</span>=&nbsp;<span class="src-str">&quot;MyVO&quot;</span><span class="src-sym">;</span></div></li>
</ol></div></p><p>If you are using Flash, remember that you need to register the class alias so that Flash converts the MyVO AMF object to a Flash MyVO object.  If you are using Flex you can do this with the RemoteClass metadata tag.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Ariel Sommeria-Klein</li>
				<li><span class="field">see:</span> <a href="../Amfphp_Core_Amf/Amfphp_Core_Amf_Constants.html#constFIELD_EXPLICIT_TYPE">Amfphp_Core_Amf_Constants::FIELD_EXPLICIT_TYPE</a></li>
				<li><span class="field">link:</span> <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/package.html#registerClassAlias%28%29">http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/package.html#registerClassAlias%28%29</a></li>
				<li><span class="field">link:</span> <a href="http://livedocs.adobe.com/flex/3/html/metadata_3.html#198729">http://livedocs.adobe.com/flex/3/html/metadata_3.html#198729</a></li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_Amfphp---Plugins---AmfphpCustomClassConverter---AmfphpCustomClassConverter.php.html">/Amfphp/Plugins/AmfphpCustomClassConverter/AmfphpCustomClassConverter.php</a> (line <span class="field">50</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																								<div class="var-title">
					<span class="var-type">array</span>
					<a href="#$customClassFolderPaths" title="details" class="var-name">$customClassFolderPaths</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																												
												<div class="method-definition">
											<span class="method-result">AmfphpCustomClassConverter</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$config</span> = <span class="var-default">null</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#convertToTyped" title="details" class="method-name">convertToTyped</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$obj</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#filterDeserializedRequest" title="details" class="method-name">filterDeserializedRequest</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$deserializedRequest</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#filterDeserializedResponse" title="details" class="method-name">filterDeserializedResponse</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$deserializedResponse</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#markExplicitType" title="details" class="method-name">markExplicitType</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$obj</span>)
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$customClassFolderPaths" id="$customClassFolderPaths"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$customClassFolderPaths</span>
						(line <span class="line-number">57</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">paths to folders containing custom classes(relative or absolute)</p>
<p class="description"><p>default is /Services/Vo/</p></p>
	<ul class="tags">
				<li><span class="field">var:</span> of paths</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">63</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">constructor.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">AmfphpCustomClassConverter</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$config</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$config</span><span class="var-description">: optional key/value pairs in an associative array. Used to override default configuration values.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodconvertToTyped" id="convertToTyped"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">convertToTyped</span> (line <span class="line-number">106</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">if the object contains an explicit type marker, this method attempts to convert it to its typed counterpart  if the typed class is already available, then simply creates a new instance of it. If not,  attempts to load the file from the available service folders.</p>
<p class="description"><p>If then the class is still not available, the object is not converted  note: This is not a recursive function. Rather the recusrion is handled by Amfphp_Core_Amf_Util::applyFunctionToContainedObjects.  must be public so that Amfphp_Core_Amf_Util::applyFunctionToContainedObjects can call it</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			convertToTyped
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$obj</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$obj</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfilterDeserializedRequest" id="filterDeserializedRequest"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">filterDeserializedRequest</span> (line <span class="line-number">81</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">converts untyped objects to their typed counterparts. Loads the class if necessary</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			filterDeserializedRequest
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$deserializedRequest</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$deserializedRequest</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfilterDeserializedResponse" id="filterDeserializedResponse"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">filterDeserializedResponse</span> (line <span class="line-number">91</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">looks at the outgoing packet and sets the explicit type field so that the serializer sends it properly</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			filterDeserializedResponse
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$deserializedResponse</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$deserializedResponse</span>			</li>
				</ul>
		
			
	</div>
<a name="methodmarkExplicitType" id="markExplicitType"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">markExplicitType</span> (line <span class="line-number">146</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">sets the the explicit type marker on the object and its sub-objects. This is only done if it not already set, as in some cases  the service class might want to do this manually.</p>
<p class="description"><p>note: This is not a recursive function. Rather the recusrion is handled by Amfphp_Core_Amf_Util::applyFunctionToContainedObjects.  must be public so that Amfphp_Core_Amf_Util::applyFunctionToContainedObjects can call it</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			markExplicitType
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$obj</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$obj</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Tue, 29 May 2012 23:41:58 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>