/*** @author Anselm Bradford anselmbradford.com*/package com.zutalor.widgets{	import com.zutalor.utils.TimerRegistery;	import flash.events.EventDispatcher;		public class CountDown extends EventDispatcher	{		public static const MILLISECONDS_PER_MINUTE:int = 1000 * 60;		public static const MILLISECONDS_PER_HOUR:int = 1000 * 60 * 60;		public static const MILLISECONDS_PER_DAY:int = 1000 * 60 * 60 * 24;				private var _targetDate:Date;				public function init( date:Date ) : void		{			_targetDate = date;			MasterClock.registerCallback(_onTick, true, 1000);		}				public function stop():void		{			MasterClock.unRegisterCallback(_onTick);		}				private function _onTick():void     	{			var targetMillisecs:Number = _targetDate.valueOf();						var currentDate:Date = new Date();			var currentMillisecs:Number = currentDate.valueOf();						var diff:Number = (targetMillisecs - currentMillisecs);						if (diff < 0) diff = 0;					dispatchEvent( new CountDownEvent( CountDownEvent.UPDATE , diff ) );    	}	}}